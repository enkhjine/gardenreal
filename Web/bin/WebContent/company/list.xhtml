<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="../template/template.xhtml">
	<ui:define name="content">
		<section class="content-header">
		<h1>Байгууллага</h1>
		<p:commandLink rendered="#{infoController.organizations.size() eq 0}" action="#{userController.url('company_register')}"
			styleClass="medit-btn medit-btn-normal ripplelink black-ink"
			actionListener="#{infoController.newOrganization}">
			<i class="fa fa-fw fa-plus-square" /> Шинэ байгууллага бүртгэх</p:commandLink>
		<ol class="breadcrumb">
			<li class="active">Байгууллага</li>
			<li class="active">Жагсаалт</li>
		</ol>
		</section>
		<section class="content">
		<div class="row">
			<div class="col-xs-12">
				<div class="box">
					<div class="box-body">
						<p:dataTable id="organizationList" styleClass="myTable" value="#{infoController.organizations}" var="info" rowIndexVar="index">
							<p:column styleClass="index" headerText="№">#{index + 1}</p:column>
							<p:column styleClass="text" headerText="#{i18n['organization_name']}">#{info.name}</p:column>
							<p:column styleClass="text" headerText="#{i18n['territory']}">#{info.name}</p:column>
							<p:column styleClass="text" headerText="#{i18n['mail']}">#{info.email} </p:column>
							<p:column styleClass="id" headerText="#{i18n['phone']}">#{info.phoneNumber}</p:column>
							<p:column styleClass="button-icon" headerText="#{i18n['edit']}"><p:commandLink styleClass="fa fa-fw fa-edit color-blue" action="#{infoController.modifiedOrganization(info)}"	></p:commandLink></p:column>
							<p:column rendered="#{1 ne 1}" styleClass="button-icon" headerText="#{i18n['delete']}"><p:commandLink styleClass="fa fa-fw fa-remove color-red" action="#{infoController.deleteOrganization(info)}" oncomplete="PF('confirmDialogDelete').show();" ></p:commandLink></p:column>
						</p:dataTable>
					</div>
				</div>
			</div>
		</div>
		</section>
		<p:dialog styleClass="confirmDialog" widgetVar="confirmDialogDelete" modal="true"
			resizable="false" width="300">
				<table class="panel-confirm-dialog">
					<tr>
						<td class="panel-confirm-dialog-icon">
							<i class="fa fa-fw fa-warning color-orange"/>
						</td>
						<td class="panel-confirm-dialog-text">
							#{i18n['sure_to_delete']}
						</td>
					</tr>
				</table>
				<div class="col-xs-12" >
					<div class="row">
						<div class="col-md-1"/>
						<div class="col-md-5">
							<p:commandLink styleClass="btn"
								action="#{infoController.saveOrganization}">
								<i class="fa fa-fw fa-check"/> #{i18n['delete']}</p:commandLink>
						</div>
						<div class="col-md-5">
							<p:commandLink styleClass="btn redBtn"
								oncomplete="PF('confirmDialogDelete').hide();">
								<i class="fa fa-fw fa-times"/> #{i18n['cancel']}</p:commandLink>
						</div>
						<div class="col-md-1"/>
					</div>
				</div>
		</p:dialog>
	</ui:define>
	<ui:define name="script">
		<script>
		//<![CDATA[
			
		//]]>
		</script>
	</ui:define>
</ui:composition>